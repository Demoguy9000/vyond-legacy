<html>
  <head>
    <title>Video Editor</title>
    <script>
      // some of this code was taken from regularspark. but it works here lol :)
      const params = new Proxy(new URLSearchParams(window.location.search), {
        get: (searchParams, prop) => searchParams.get(prop),
      });
      let id = params.newId;
      function embedObject() {
        document.getElementById('flashvars').innerHTML = `<object data="https://josephanimate2021.github.io/animation/930/go_full.swf" type="application/x-shockwave-flash" id="video_maker"><param name="flashvars" value="apiserver=https%3A%2F%2Fga2014remake.herokuapp.com%2F&storePath=https%3A%2F%2Fjosephanimate2021.github.io%2Fstore%2F3a981f5cb2739137%2F%3Cstore%3E&isEmbed=1&ctc=go&ut=60&bs=default&appCode=go&page=&siteId=go&lid=13&isLogin=Y&retut=0&clientThemePath=https%3A%2F%2Fjosephanimate2021.github.io%2Fstatic%2F55910a7cd204c37c%2F%3Cclient_theme%3E&themeId=custom&tray=custom&tlang=en_US&presaveId=${id}&goteam_draft_only=1&isWide=0&collab=0&nextUrl=..%2Fpages%2Fhtml%2Flist.html&noSkipTutorial=1"> <param name="allowScriptAccess" value="always"> <param name="allowFullScreen" value="true"></object>`;
      }
      interactiveTutorial = {
        neverDisplay: function() {
          return true
        }
      };
      function studioLoaded(arg) {
        console.log(arg)
      }
      function initPreviewPlayer(xml) {
        confirm('Before proceeding, please make sure all your changes have been saved.') && window.open(`https://ga2014remake.herokuapp.com/player?movieId=${id}`,'MsgWindow','width=1280,height=723,left='+(screen.width/2-640)+',top='+(screen.height/2-360))
      };
      function exitStudio() {
        window.location='/player?api=https://ga2014remake.herokuapp.com/'
      }
    </script>
    <style>
      #video_maker {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body style="margin:0px" onload="embedObject()">
    <div id="flashvars"></div>
  </body>
</html>
